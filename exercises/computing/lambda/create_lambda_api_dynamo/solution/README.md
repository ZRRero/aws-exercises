## Computing AWS - Create a Lambda function with proxy API Gateway and DynamoDB database

### Solution

1. Go to S3 dashboard and click on "Create bucket" ![1](images/1.png)
2. Fill the bucket name and leave every thing else as default ![2](images/2.png)
3. Click on "Create bucket" ![3](images/3.png)
4. Enter the created bucket and upload the code ![4](images/4.png)
5. Go to Lambda dashboard and click on "Create function" ![5](images/5.png)
6. Fill the function name and leave every thing else as default, in this case python 3.9 is selected for code ![6](images/6.png)
7. Click on "Create function" ![7](images/7.png)
8. Click on "Upload from" and select the "Amazon S3 location" option ![8](images/8.png)
9. Fill with the S3 URi of your function code ![9](images/9.png)
10. Click on Actions and "Publish new version" ![10](images/10.png)
11. Click on "Publish" ![11](images/11.png)
12. Go back to your function and click on Aliases tab the option "Create Alias" ![12](images/12.png)
13. Fill the name and point to the version just published ![13](images/13.png)
14. Click on "Save" ![14](images/14.png)
15. Enter the DynamoDB dashboard and click on create table ![15](images/15.png) 
16. Enter the table name ![16](images/16.png)
17. Enter the partition key, in this case no sort key will be used ![17](images/17.png) 
18. Click on customize settings and table class Standard ![18](images/18.png)
19. Select "On-demand" for read/write ![19](images/19.png)
20. Leave the rest as default and click "Create Table" ![20](images/20.png)
21. Go to the IAM console and modify your lambda_function role and click on "Add permissions" ![21](images/21.png) 
22. Select inline policy and "DynamoDB" as service ![22](images/22.png)
23. Select GetItem and PutItem in actions ![23](images/23.png)
24. In resources add the new DynamoDB table ARN to restrict access ![24](images/24.png)
25. Click on "review policy" ![25](images/25.png)
26. Give the policy a name ![26](images/26.png)
27. Click on "Create policy" ![27](images/27.png)
28. Go to API Gateway dashboard and click on "Create API" ![28](images/28.png)
29. Select HTTP API ![29](images/29.png)
30. Fill the api name and click on "Review and Create" ![30](images/30.png)
31. Click on "Create" ![31](images/31.png)
32. Go to Stages ![32](images/32.png)
33. Click on "Create" ![33](images/33.png)
34. Fill the name and enable auto deployment ![34](images/34.png)
35. Click on "Create" ![35](images/35.png)
36. Go to Routes and click on "Create" ![36](images/36.png)
37. Let ANY on method and /events/{proxy+} For the route ![37](images/37.png)
38. Click on "Create" ![38](images/38.png)
39. Go to Integrations and click on "Manage integrations" ![39](images/39.png)
40. Click on "Create" ![40](images/40.png)
41. Select the created route ![41](images/41.png)
42. Select "Lambda function" as integration target ![42](images/42.png)
43. Add the alias ARN ![43](images/43.png)
44. Click on "Create" ![44](images/44.png)

Be aware that provided code requires the dynamo table to be an environment variable
1. Go to Lambda function configuration ![1-1](images/1-1.png)
2. Go to environment variables ![1-2](images/1-2.png)
3. Click on edit ![1-3](images/1-3.png)
4. Click on "Add environment variable" ![1-4](images/1-4.png)
5. Fill the information ![1-5](images/1-5.png)
6. Click on "Save" ![1-6](images/1-6.png)